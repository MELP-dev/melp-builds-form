!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@mui/material"),require("react"),require("react-hook-form"),require("react-input-mask"),require("@mui/material/Switch")):"function"==typeof define&&define.amd?define(["exports","@mui/material","react","react-hook-form","react-input-mask","@mui/material/Switch"],r):r((e||self).form={},e.material,e.react,e.reactHookForm,e.reactInputMask,e.MuiSwitch)}(this,function(e,r,t,n,l,a){function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=o(t),i=o(l),s=o(a);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},c.apply(this,arguments)}function d(e){var r,t,n;if(null!=(null==(r=e.validations)?void 0:r.pattern))try{var l;n=new RegExp(null==(l=e.validations)?void 0:l.pattern)}catch(r){console.warn("Provided pattern is not a valid RegExp",e.validations.pattern)}var a=null!=(t=e.validations)?t:{};return{required:e.required,min:a.min,max:a.max,minLength:a.minLength,maxLength:a.maxLength,pattern:n}}var f,m={required:function(e){var r;return(null!=(r=e.label)?r:e.key)+" is required"},min:function(e){var r;return(null!=(r=e.label)?r:e.key)+" is too small"},max:function(e){var r;return(null!=(r=e.label)?r:e.key)+" is too large"},minLength:function(e){var r;return(null!=(r=e.label)?r:e.key)+" is too short"},maxLength:function(e){var r;return(null!=(r=e.label)?r:e.key)+" is too long"},pattern:function(e){var r;return(null!=(r=e.label)?r:e.key)+" is not valid"}};function p(e,r,n){return t.useMemo(function(){var t;return[null==n?void 0:n.type].concat(Object.keys(null!=(t=null==n?void 0:n.types)?t:{}).filter(function(e){var r;return null!=(null==n||null==(r=n.types)?void 0:r[e])})).filter(function(e){return null!=e}).map(function(t){var l,a;return null!=n&&n.message?n.message:null!=(l=null==e||null==(a=e.messages)?void 0:a[null!=t?t:""])?l:r[t||"pattern"](e)})},[e,n,r])}function v(e){switch(e){case!0:return;case!1:return 0;default:return e}}e.MpControlType=void 0,(f=e.MpControlType||(e.MpControlType={})).number="number",f.text="text",f.multiline="multiline",f.group="group",f.switch="switch";var g={xs:12};function h(e){var t,l=e.size,a=e.layout,o=e.variant,i=e.register,s=e.locale,c=e.errors,d=e.hookFormControl,f=e.defaultMessages,m=e.overridables;return u.default.createElement(r.Grid,{container:!0,spacing:2},null==(t=e.control.children)?void 0:t.map(function(e,t){var p,v;return u.default.createElement(r.Grid,Object.assign({item:!0,key:t,xs:12},null!=(p=e.span)?p:g),u.default.createElement(L,{register:i,control:e,defaultMessages:f,error:n.get(null!=c?c:{},null!=(v=null==e?void 0:e.key)?v:""),size:l,locale:s,hookFormControl:d,noLabel:!0,layout:a,variant:o,overridables:m}))}))}var b={shrink:!0};function y(e){var n=e.control,l=e.size,a=e.layout,o=e.variant,i=e.register,s=e.error,c=e.defaultMessages,f=t.useMemo(function(){return{ref:i(d(n))}},[i,n]),m=p(n,c,s);return u.default.createElement(r.TextField,{error:!!s,multiline:!0,rows:4,maxRows:8,helperText:m[0],name:n.key,required:n.required,placeholder:n.placeholder,label:"separated"===a?"":n.label,size:l,fullWidth:!0,InputLabelProps:b,inputProps:f,variant:o})}var k=["onChange","inputRef","decimalPoint","negative"],M=t.forwardRef(function(e,r){var n=e.onChange,l=e.inputRef,a=e.decimalPoint,o=void 0===a?2:a,i=e.negative,s=void 0===i||i,c=function(e,r){if(null==e)return{};var t,n,l={},a=Object.keys(e);for(n=0;n<a.length;n++)r.indexOf(t=a[n])>=0||(l[t]=e[t]);return l}(e,k),d=t.useCallback(function(e){var r=e.target.value;r=(r=(r=r.replace(/-/g,s?function(e,r){return r>0?"":e}:"")).replace(/[.,]/g,o>0?function(e,r,t){var n,l;return t.indexOf(null!=(n=null==(l=t.match(/[.,]/g))?void 0:l[0])?n:".")!==r||0===r?"":e}:"")).replace(/[^\d.,-]/g,""),o>0&&(r=r.replace(/[.,]\d+/g,function(e){return e.substr(0,o+1)})),e.target.value=r,"function"==typeof n&&n(e)},[n,o,s]),f=c.onBlur,m=t.useCallback(function(e){null!=e.target.value&&""!==e.target.value&&(e.target.value=(+e.target.value).toFixed(o)),"function"==typeof f&&f(e)},[o,f]);return u.default.createElement("input",Object.assign({ref:null!=r?r:l},c,{onBlur:m,onChange:d,inputMode:"decimal"}))}),x={shrink:!0};function C(e){var n=e.control,l=e.size,a=e.layout,o=e.variant,i=e.error,s=e.value,c=e.onChange,d=p(n,e.defaultMessages,i)[0],f=t.useMemo(function(){return{decimalPoint:v(n.decimalPoint),negative:n.negative}},[n]),m=n.endAdornment,g=n.startAdornment,h=t.useMemo(function(){return{inputComponent:M,endAdornment:m,startAdornment:g}},[m,g]);return u.default.createElement(r.TextField,{error:!!i,helperText:d,name:n.key,required:n.required,placeholder:n.placeholder,label:"separated"===a?"":n.label,size:l,fullWidth:!0,InputLabelProps:x,value:null!=s?s:"",onChange:c,inputProps:f,InputProps:h,variant:o})}function E(e){var r,l=e.control,a=e.hookFormControl,o=t.useMemo(function(){return d(l)},[l]);return u.default.createElement(n.Controller,{name:null!=(r=l.key)?r:"",rules:o,defaultValue:null,control:a,render:function(r){return u.default.createElement(C,Object.assign({},e,{onChange:r.onChange,value:r.value}))}})}var T,q={shrink:!0};function F(e){var n=e.control,l=e.size,a=e.layout,o=e.variant,s=e.register,c=e.error,f=e.defaultMessages,m=n.endAdornment,v=n.startAdornment,g=n.format,h=t.useMemo(function(){var e={ref:s(d(n))};return null!=g&&(e.mask=g,e.maskChar=""),e},[s,n,g]),b=p(n,f,c)[0],y=t.useMemo(function(){return{endAdornment:m,startAdornment:v,inputComponent:g?i.default:void 0}},[m,v,g]);return u.default.createElement(r.TextField,{error:!!c,helperText:b,name:n.key,required:n.required,placeholder:n.placeholder,label:"separated"===a?"":n.label,size:l,fullWidth:!0,InputLabelProps:q,inputProps:h,InputProps:y,variant:o})}function P(e){var t=e.control,n=e.layout;return u.default.createElement(r.FormControlLabel,{control:u.default.createElement(s.default,{name:t.key,color:"primary",inputRef:e.register}),label:"separated"===n?"":t.label})}var w=((T={})[e.MpControlType.text]=F,T[e.MpControlType.number]=E,T[e.MpControlType.multiline]=y,T[e.MpControlType.group]=h,T[e.MpControlType.switch]=P,T);function L(e){var n=e.register,l=e.control,a=e.size,o=e.layout,i=e.noLabel,s=e.variant,c=e.locale,d=e.error,f=e.errors,m=e.hookFormControl,p=e.defaultMessages,v=e.overridables,g=function(e,r){return t.useMemo(function(){var t,n,l,a,o;return null!=(t=null!=(n=null==r||null==(l=r.controls)?void 0:l[null!=(a=e.type)?a:""])?n:w[null!=(o=e.type)?o:""])?t:w.text},[e,null==r?void 0:r.controls])}(l,v),h=u.default.createElement(g,{control:l,defaultMessages:p,register:n,locale:c,size:a,overridables:v,hookFormControl:m,layout:o,variant:s,errors:f,error:d});return"separated"!==o||i?h:u.default.createElement(r.Grid,{container:!0,spacing:2},u.default.createElement(r.Grid,{item:!0,xs:12,sm:4},u.default.createElement(r.Box,{paddingTop:"small"===a?1:2},u.default.createElement(r.InputLabel,{error:!!d,required:l.required},l.label))),u.default.createElement(r.Grid,{item:!0,xs:12,sm:8},h))}var O={xs:12};e.Group=h,e.MpForm=function(e){var l=e.controls,a=e.size,o=e.layout,i=e.variant,s=e.locale,d=e.useFormMethods,f=e.overridables,p=e.defaultMessages,v=d.register,g=d.errors,h=d.control,b=t.useMemo(function(){return c({},m,null!=p?p:{})},[p]);return u.default.createElement(r.Grid,{container:!0,spacing:2},l.map(function(e,t){var l,c;return u.default.createElement(r.Grid,Object.assign({item:!0,key:t,xs:12},null!=(l=e.span)?l:O),u.default.createElement(L,{register:v,control:e,locale:s,hookFormControl:h,defaultMessages:b,error:n.get(null!=g?g:{},null!=(c=null==e?void 0:e.key)?c:""),errors:g,size:a,layout:o,variant:i,overridables:f}))}))},e.MpFormControl=L,e.Multiline=y,e.Number=E,e.NumberInput=M,e.Switch=P,e.Text=F,e.booleanDecimalPointToNumber=v,e.controlRegisterOptions=d,e.defaultMessages=m,e.useErrorMessages=p});
//# sourceMappingURL=form.umd.js.map
